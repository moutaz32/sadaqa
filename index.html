<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="ุตุฏูุฉ ุฌุงุฑูุฉ ุนูู ุฑูุญ ุงููููุฏุณ ุงูุญุงุฌ ูุญูุฏ ุงูููููู. ุดุงุฑููุง ุงูุฏุนุงุก ูุงูุฎุชูุฉ.">
    <meta name="theme-color" content="#059669">
    
    <link rel="manifest" href="https://moutaz32.github.io/sadaqa/manifest.json">

    <meta property="og:title" content="ุตุฏูุฉ ุฌุงุฑูุฉ | ู. ูุญูุฏ ุงูููููู">
    <meta property="og:description" content="ุงูููู ุงุบูุฑ ูู ูุงุฑุญูู. ุดุงุฑููุง ูู ุงูุฎุชูุฉ ุงูุฌูุงุนูุฉ ูุงูุฏุนุงุก.">
    <meta property="og:image" content="https://img.icons8.com/color/480/quran.png"> 
    <meta property="og:url" content="https://moutaz32.github.io/sadaqa/">
    
    <title>ููุฑ | ู. ูุญูุฏ ุงูููููู</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        :root { --primary: #059669; --dark: #0f172a; --light: #f8fafc; --accent: #fbbf24; --glass: rgba(255, 255, 255, 0.95); --shadow: 0 4px 20px rgba(0,0,0,0.08); }
        [data-theme="dark"] { --primary: #34d399; --dark: #020617; --light: #111827; --glass: rgba(30, 41, 59, 0.98); color: #fff; }
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        html { scroll-behavior: smooth; }
        body { font-family: 'Tajawal', sans-serif; background: var(--light); color: #333; transition: 0.3s; padding-bottom: 120px; background-image: radial-gradient(var(--primary) 0.5px, transparent 0.5px); background-size: 20px 20px; overflow-x: hidden; }
        [data-theme="dark"] body { color: #fff; }
        .reveal { opacity: 0; transform: translateY(30px); transition: all 0.8s ease-out; }
        .reveal.active { opacity: 1; transform: translateY(0); }
        header { background: linear-gradient(160deg, #064e3b, #065f46); color: white; padding: 50px 20px 80px; text-align: center; border-radius: 0 0 50px 50px; position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .theme-btn { position: absolute; top: 20px; left: 20px; background: rgba(255,255,255,0.2); border: none; color: white; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; backdrop-filter: blur(5px); }
        .deceased-name { font-size: 2rem; font-weight: 900; color: #fbbf24; text-shadow: 0 2px 10px rgba(0,0,0,0.3); line-height: 1.3; margin: 10px 0; }
        .container { max-width: 600px; margin: -50px auto 0; padding: 0 15px; position: relative; z-index: 10; }
        .card { background: var(--glass); border-radius: 20px; padding: 20px; margin-bottom: 15px; box-shadow: var(--shadow); border-top: 4px solid var(--primary); backdrop-filter: blur(10px); }
        [data-theme="dark"] .card { background: #1e293b; color: white; border: none; border-top: 4px solid var(--primary); }
        .card h2 { font-size: 1.2rem; margin-bottom: 15px; color: var(--primary); display: flex; align-items: center; gap: 10px; }
        .special-card { border-top: 4px solid var(--accent) !important; box-shadow: 0 10px 25px rgba(251, 191, 36, 0.15); text-align: center; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .action-btn { background: rgba(0,0,0,0.03); padding: 15px; border-radius: 12px; text-align: center; cursor: pointer; font-weight: bold; color: inherit; display: flex; flex-direction: column; align-items: center; gap: 5px; font-size: 0.95rem; border: none; transition: 0.2s; text-decoration: none;}
        [data-theme="dark"] .action-btn { background: rgba(255,255,255,0.05); color: white; }
        .action-btn i { font-size: 1.5rem; color: var(--primary); }
        .gift-btn { width: 100%; padding: 15px; background: var(--accent); color: #1e293b; border: none; border-radius: 15px; font-weight: bold; font-size: 1.1rem; cursor: pointer; display: flex; justify-content: center; gap: 10px; transition: 0.2s; margin-bottom:15px; }
        .sebha-circle { width: 130px; height: 130px; background: var(--light); border-radius: 50%; margin: 10px auto; display: flex; flex-direction: column; justify-content: center; align-items: center; border: 4px solid var(--primary); cursor: pointer; user-select: none; transition: transform 0.1s; }
        .sebha-circle:active { transform: scale(0.95); }
        .counter { font-size: 3rem; font-weight: 800; color: var(--primary); }
        .dua-input { width: 100%; padding: 15px; border-radius: 10px; border: 1px solid #ccc; margin-bottom: 10px; font-family: inherit; resize: none; }
        [data-theme="dark"] .dua-input { background: #0f172a; color: white; border-color: #334155; }
        .dua-list { max-height: 250px; overflow-y: auto; text-align: right; }
        .dua-item { background: rgba(0,0,0,0.02); padding: 12px; border-radius: 8px; margin-bottom: 8px; border-right: 3px solid var(--accent); font-size: 0.95rem; }
        [data-theme="dark"] .dua-item { background: rgba(255,255,255,0.05); }
        .share-card { background: #1e293b; color: white; padding: 25px; border-radius: 15px; text-align: center; border: 2px solid var(--accent); margin-bottom: 15px; }
        .media-box { width: 100%; border-radius: 15px; margin-bottom: 15px; }
        .floating-player { position: fixed; bottom: 0; left: 0; width: 100%; background: var(--glass); backdrop-filter: blur(15px); padding: 12px 20px; border-top: 1px solid rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: space-between; z-index: 100; box-shadow: 0 -5px 25px rgba(0,0,0,0.15); transition: 0.3s; flex-wrap: wrap; gap: 10px; }
        [data-theme="dark"] .floating-player { background: rgba(30, 41, 59, 0.95); border-color: rgba(255,255,255,0.05); }
        .player-info { display: flex; align-items: center; gap: 10px; }
        .live-indicator { width: 10px; height: 10px; background: #ef4444; border-radius: 50%; animation: pulseRed 1.5s infinite; }
        @keyframes pulseRed { 0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); } 70% { box-shadow: 0 0 0 6px rgba(239, 68, 68, 0); } 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } }
        .play-toggle { width: 45px; height: 45px; background: linear-gradient(135deg, var(--primary), #064e3b); color: white; border-radius: 50%; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 2000; padding: 10px; overflow-y: auto; justify-content: center; align-items: flex-start; }
        .modal.active { display: flex; }
        .modal-content { background: #fff; width: 100%; max-width: 600px; border-radius: 20px; padding: 20px; margin-top: 20px; position: relative; animation: slideUp 0.3s ease-out; }
        [data-theme="dark"] .modal-content { background: #1e293b; color: white; }
        .close-modal { position: sticky; top: 0; left: 0; background: #ef4444; color: white; width: 35px; height: 35px; border-radius: 50%; display: grid; place-items: center; cursor: pointer; float: left; margin-bottom: 10px; font-weight: bold; }
        .juz-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(50px, 1fr)); gap: 8px; margin-bottom: 15px; }
        .juz-btn { background: rgba(0,0,0,0.05); border: 1px solid rgba(0,0,0,0.1); border-radius: 8px; padding: 10px 0; text-align: center; font-weight: bold; cursor: pointer; }
        .juz-btn.read { background: var(--primary); color: white; }
        .progress-bar-container { background: rgba(239, 68, 68, 0.1); border-radius: 12px; padding: 12px; margin-bottom: 20px; }
        .progress-track { width: 100%; background: rgba(239, 68, 68, 0.2); height: 8px; border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: #ef4444; width: 0%; transition: 0.5s; }
        .toast-notification { position: fixed; bottom: 95px; left: 50%; transform: translateX(-50%) translateY(200%); background: #0f172a; color: white; padding: 15px 20px; border-radius: 15px; z-index: 1000; transition: 0.5s; width: 90%; max-width: 400px; display: flex; align-items: center; gap: 15px; border: 2px solid var(--accent); }
        .toast-notification.show { transform: translateX(-50%) translateY(0); }
    </style>
</head>
<body>

    <header>
        <button class="theme-btn" onclick="toggleTheme()"><i class="fas fa-moon"></i></button>
        <div style="opacity: 0.9;">ุตุฏูุฉ ุฌุงุฑูุฉ ุนูู ุฑูุญ ุงููุบููุฑ ูู ุจุฅุฐู ุงููู</div>
        <div class="deceased-name">ุงููููุฏุณ ุงูุญุงุฌ<br>ูุญูุฏ ุงูููููู</div>
        <p style="font-size:0.9rem; opacity:0.9;">ุงูููู ุงุฌุนู ูุจุฑู ุฑูุถุฉ ูู ุฑูุงุถ ุงูุฌูุฉ</p>
        <div style="margin-top: 15px; font-size: 0.85rem; background: rgba(0,0,0,0.2); display: inline-block; padding: 5px 15px; border-radius: 20px;">
            <i class="fas fa-users" style="color: var(--accent);"></i> ุนุฏุฏ ุงูุฒูุงุฑ: <span id="visitorsCount">...</span>
        </div>
    </header>

    <div class="container">
        <div class="card reveal">
            <h2><i class="fas fa-dove" style="color:var(--accent)"></i> ุฃุซุฑู ุงูุทูุจ</h2>
            <p style="line-height: 1.8; font-size: 0.95rem;">"ูุงู ุฑุญูู ุงููู ุฑุฌูุงู ุทูุจ ุงูููุจุ ูุญุจุงู ููุฎูุฑุ ูุงุตูุงู ููุฑุญูุ ูุณุนู ูู ูุถุงุก ุญูุงุฆุฌ ุงููุงุณ. ุชุฑู ุฎููู ุณูุฑุฉ ุนุทุฑุฉ ูุฃุณุฑุฉ ูุญุจุฉ ุชุฏุนู ูู."</p>
        </div>

        <div class="card special-card reveal">
            <h2 style="justify-content: center; color: var(--accent);"><i class="fas fa-tree"></i> ุฃูุจูู ุตุฏูุฉ ุงููุฎูุฉ</h2>
            <div style="background: rgba(5, 150, 105, 0.1); padding: 15px; border-radius: 10px; margin-bottom: 15px; font-weight: bold;">ูููุฏู ุจูุถู ุงููู ูู:<br><span style="color: var(--primary); font-size: 1.2rem;">ุงูุฒูุฌุฉ ุงููุฎูุตุฉุ ูุฌููุน ุฃุจูุงุฆู ูุจูุงุชู</span></div>
            <img src="tree.jpg" alt="ูุฎูุฉ" class="media-box" onerror="this.style.display='none'">
            <video class="media-box" controls style="background:#000;" onerror="this.style.display='none'"><source src="video.mp4" type="video/mp4"></video>
        </div>

        <div class="card reveal">
            <h2 style="justify-content: center;"><i class="fas fa-book-open"></i> ุงููุฑุขู ุงููุฑูู</h2>
            <button class="gift-btn" id="fatihaBtn" onclick="giftFatiha()"><i class="fas fa-heart"></i> ุฃูุฏูุช ูู ุงููุงุชุญุฉ</button>
            <div class="grid-2">
                <button class="action-btn" onclick="window.open('https://quran.com/ar/36', '_blank')"><i class="fas fa-heart" style="color:#ef4444"></i> ูุณ</button>
                <button class="action-btn" onclick="window.open('https://quran.com/ar/67', '_blank')"><i class="fas fa-shield-alt" style="color:#3b82f6"></i> ุงูููู</button>
                <button class="action-btn" onclick="window.open('https://quran.com/ar/56', '_blank')"><i class="fas fa-leaf" style="color:#22c55e"></i> ุงููุงูุนุฉ</button>
                <button class="action-btn" onclick="window.open('https://quran.com/ar/18', '_blank')"><i class="fas fa-lightbulb" style="color:#eab308"></i> ุงูููู</button>
            </div>
        </div>

        <div class="card reveal">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                <h2 style="margin:0;"><i class="fas fa-quran"></i> ุงูุฎุชูุฉ ุงูุฌูุงุนูุฉ</h2>
                <span style="background: var(--primary); color: white; padding: 5px 10px; border-radius: 10px; font-size: 0.8rem;">ุงูุชููุช: <span id="globalKhatmaCount">0</span></span>
            </div>
            <div class="juz-grid" id="juzGrid"></div>
        </div>

        <div class="card reveal">
            <h2 style="color: #ef4444;"><i class="fas fa-globe"></i> ุญููุฉ ุงูุตูุงุฉ ุนูู ุงููุจู</h2>
            <div class="progress-bar-container">
                <div style="display:flex; justify-content:space-between; font-size:0.8rem; color:#ef4444; margin-bottom:5px;">
                    <span id="targetGoalText">ุงููุฏู ุงููุงุฏู: 10,000</span>
                    <span id="targetPercentText">0%</span>
                </div>
                <div class="progress-track"><div id="sebhaProgressBar" class="progress-fill"></div></div>
            </div>
            <div style="text-align: center;">
                <div class="sebha-circle" onclick="incrementGlobalSebha()" style="border-color:#ef4444;">
                    <span class="counter" id="globalSebhaCounter" style="color:#ef4444;">0</span>
                </div>
                <p style="font-weight:bold; color:#ef4444; margin-top:10px;">ุงูููู ุตูู ูุณูู ุนูู ูุจููุง ูุญูุฏ</p>
            </div>
        </div>

        <div class="card reveal">
            <h2><i class="fas fa-praying-hands" style="color:#3b82f6"></i> ุฃุฏุนูุฉ ูุฃุฐูุงุฑ</h2>
            <div class="grid-2">
                <button class="action-btn" style="background:var(--primary); color:white;" onclick="openDeadDuasModal()"><i class="fas fa-book-reader" style="color:white;"></i> 30 ุฏุนุงุก ูููุชููู</button>
                <button class="action-btn" onclick="openAzkar('morning')"><i class="fas fa-sun" style="color:#f59e0b"></i> ุฃุฐูุงุฑ ุงูุตุจุงุญ</button>
                <button class="action-btn" onclick="openAzkar('evening')"><i class="fas fa-moon" style="color:#6366f1"></i> ุฃุฐูุงุฑ ุงููุณุงุก</button>
                <button class="action-btn" style="background:rgba(139, 92, 246, 0.1); color:#8b5cf6;" onclick="showRandomAyah()">
                    <i class="fas fa-envelope-open-text" style="color:#8b5cf6"></i> ุฑุณุงูุฉ ูุฑุขููุฉ
                </button>
            </div>
            <div id="randomAyahText" style="text-align:center; padding:15px; margin-top:10px; border:2px dashed var(--accent); border-radius:10px; font-family:'Amiri'; font-size:1.3rem; min-height:80px; display:flex; align-items:center; justify-content:center;">"ููุงุตูุจูุฑู ููุญููููู ุฑูุจูููู ููุฅูููููู ุจูุฃูุนูููููููุง"</div>
        </div>

        <div class="card reveal">
            <h2><i class="fas fa-pen-fancy"></i> ุณุฌู ุงูุฏุนุงุก ุงูุนุงู</h2>
            <textarea id="duaInput" class="dua-input" rows="3" placeholder="ุงูุชุจ ุฏุนุงุฆู ููุง..."></textarea>
            <button onclick="window.addGlobalDua()" class="gift-btn" style="background:var(--primary); color:white;">ุฃุฑุณู ุงูุฏุนุงุก</button>
            <div class="dua-list" id="duaList"></div>
        </div>

        <div class="card reveal" style="margin-bottom:40px;">
            <div class="share-card" id="cardCapture">
                <div style="font-family:'Amiri'; font-size:1.5rem; color:#f59e0b;">ุจุณู ุงููู ุงูุฑุญูู ุงูุฑุญูู</div>
                <p style="font-size:1.1rem; line-height:1.8;">"ุงูููู ุงุบูุฑ ูุนุจุฏู<br><strong>ุงููููุฏุณ ุงูุญุงุฌ ูุญูุฏ ุงูููููู</strong><br>ูุงุฌุนู ูุจุฑู ุฑูุถุฉ ูู ุฑูุงุถ ุงูุฌูุฉ"</p>
            </div>
            <button class="action-btn" style="width:100%; background:var(--accent); color:#1e293b;" onclick="downloadImage('cardCapture', 'Sadaqa.png')">ุชุญููู ูุฑุช ุงูุฏุนุงุก</button>
        </div>
    </div>

    <div class="floating-player">
        <div class="player-info"><div class="live-indicator"></div><span>ุฅุฐุงุนุฉ ุงููุฑุขู ุงููุฑูู</span></div>
        <div style="display:flex; align-items:center; gap:10px;">
            <input type="range" id="volumeSlider" min="0" max="1" step="0.1" value="1" style="width:60px;">
            <button class="play-toggle" onclick="toggleRadio()"><i class="fas fa-play" id="playIcon"></i></button>
        </div>
        <audio id="radio" src="https://n0e.radiojar.com/8s5u5tpdtwzuv"></audio>
    </div>

    <div id="modal" class="modal"><div class="modal-content"><div class="close-modal" onclick="closeModal()">X</div><h2 id="modalTitle" style="text-align:center; color:var(--primary); font-family:'Amiri';"></h2><div id="modalBody"></div></div></div>
    <div class="toast-notification" id="localToast"><div id="toastText"></div></div>

    <script>
        const deadDuas = [
            "ุงูููู ุงุบูุฑ ูู ูุงุฑุญููุ ูุนุงูู ูุงุนู ุนููุ ูุฃูุฑู ูุฒููุ ููุณุน ูุฏุฎููุ ูุงุบุณูู ุจุงููุงุก ูุงูุซูุฌ ูุงูุจุฑุฏุ ูููู ูู ุงูุฎุทุงูุง ููุง ูููู ุงูุซูุจ ุงูุฃุจูุถ ูู ุงูุฏูุณ.",
            "ุงูููู ุฃุจุฏูู ุฏุงุฑุงู ุฎูุฑุงู ูู ุฏุงุฑูุ ูุฃููุงู ุฎูุฑุงู ูู ุฃูููุ ูุฒูุฌุงู ุฎูุฑุงู ูู ุฒูุฌูุ ูุฃุฏุฎูู ุงูุฌูุฉุ ูุฃุนุฐู ูู ุนุฐุงุจ ุงููุจุฑ ููู ุนุฐุงุจ ุงููุงุฑ.",
            "ุงูููู ุนุงููู ุจูุง ุฃูุช ุฃูููุ ููุง ุชุนุงููู ุจูุง ูู ุฃูููุ ูุงุฌุฒู ุนู ุงูุฅุญุณุงู ุฅุญุณุงูุงู ูุนู ุงูุฅุณุงุกุฉ ุนููุงู ูุบูุฑุงูุงู.",
            "ุงูููู ุฅู ูุงู ูุญุณูุงู ูุฒุฏ ูู ุญุณูุงุชูุ ูุฅู ูุงู ูุณูุฆุงู ูุชุฌุงูุฒ ุนู ุณูุฆุงุชู ูุง ุฃุฑุญู ุงูุฑุงุญููู.",
            "ุงูููู ุฃุฏุฎูู ุงูุฌูุฉ ูู ุบูุฑ ููุงูุดุฉ ุญุณุงุจ ููุง ุณุงุจูุฉ ุนุฐุงุจุ ูุขูุณู ูู ูุญุฏุชู ููู ูุญุดุชู ููู ุบุฑุจุชู.",
            "ุงูููู ุฃูุฒูู ููุฒูุงู ูุจุงุฑูุงู ูุฃูุช ุฎูุฑ ุงูููุฒูููุ ูุฃูุฒูู ููุงุฒู ุงูุตุฏูููู ูุงูุดูุฏุงุก ูุงูุตุงูุญููุ ูุญุณู ุฃููุฆู ุฑูููุงู.",
            "ุงูููู ุงุฌุนู ูุจุฑู ุฑูุถุฉ ูู ุฑูุงุถ ุงูุฌูุฉุ ููุง ุชุฌุนูู ุญูุฑุฉ ูู ุญูุฑ ุงููุงุฑุ ูุงูุณุญ ูู ูู ูุจุฑู ูุฏ ุจุตุฑู.",
            "ุงูููู ุงูุฑุด ูุจุฑู ูู ูุฑุงุด ุงูุฌูุฉุ ูุฃุนุฐู ูู ุนุฐุงุจ ุงููุจุฑุ ูุฌุงูู ุงูุฃุฑุถ ุนู ุฌูุจูู.",
            "ุงูููู ุงููุฃ ูุจุฑู ุจุงูุฑุถุง ูุงูููุฑ ูุงููุณุญุฉ ูุงูุณุฑูุฑุ ูููู ูุชูุฉ ุงููุจุฑ ูุนุฐุงุจ ุงููุงุฑ.",
            "ุงูููู ุฅูู ูู ุฐูุชู ูุญุจู ุฌูุงุฑูุ ูููู ูุชูุฉ ุงููุจุฑ ูุนุฐุงุจ ุงููุงุฑุ ูุฃูุช ุฃูู ุงูููุงุก ูุงูุญู.",
            "ุงูููู ุงุบูุฑ ูู ูุงุฑุญูู ุฅูู ุฃูุช ุงูุบููุฑ ุงูุฑุญููุ ุงูููู ุฅูู ุนุจุฏู ูุงุจู ุนุจุฏู ุฎุฑุฌ ูู ุงูุฏููุง ูุณุนุชูุง ุฅูู ุธููุฉ ุงููุจุฑ.",
            "ุงูููู ุฅูู ูุงู ูุดูุฏ ุฃู ูุง ุฅูู ุฅูุง ุฃูุช ูุฃู ูุญูุฏุงู ุนุจุฏู ูุฑุณููู ูุฃูุช ุฃุนูู ุจูุ ูุงุบูุฑ ูู ูุงุฑุญูู.",
            "ุงูููู ููู ูุชุงุจูุ ููุณุฑ ุญุณุงุจูุ ูุซูู ุจุงูุญุณูุงุช ููุฒุงููุ ูุซุจุช ุนูู ุงูุตุฑุงุท ุฃูุฏุงูู.",
            "ุงูููู ุฃุณููู ูู ุฃุนูู ุงูุฌูุงุช ุจุฌูุงุฑ ุญุจูุจู ููุตุทูุงู ุตูู ุงููู ุนููู ูุณูู.",
            "ุงูููู ุฃููู ูู ูุฒุน ููู ุงูููุงูุฉุ ููู ููู ููู ุงูููุงูุฉุ ูุงุฌุนู ููุณู ุขููุฉ ูุทูุฆูุฉ.",
            "ุงูููู ูููู ุญุฌุชูุ ูุงุฌุนูู ูู ุจุทู ุงููุจุฑ ูุทูุฆูุงูุ ูุนูุฏ ููุงู ุงูุฃุดูุงุฏ ุขููุงูุ ูุจุฌูุฏ ุฑุถูุงูู ูุงุซูุงู.",
            "ุงูููู ุงูุธุฑ ุฅููู ูุธุฑุฉ ุฑุถุงุ ูุฅู ูู ุชูุธุฑ ุฅููู ูุธุฑุฉ ุฑุถุง ูุง ุชุนุฐุจู ุฃุจุฏุงู.",
            "ุงูููู ุฃุณููู ูุณูุญ ุงูุฌูุงูุ ูุงุบูุฑ ูู ูุง ุฑุญููุ ูุงุฑุญูู ูุง ุฑุญููุ ูุชุฌุงูุฒ ุนูุง ุชุนูู ูุง ุนููู.",
            "ุงูููู ุงุนู ุนูู ูุฅูู ุงููุงุฆู 'ููุนูู ุนู ูุซูุฑ'ุ ูุงุฌุนูู ูู ุงูุฐูู ุณุนุฏูุง ูู ุงูุฌูุฉ ุฎุงูุฏูู ูููุง.",
            "ุงูููู ุจุดุฑู ุจูููู 'ูููุง ูุงุดุฑุจูุง ูููุฆุงู ุจูุง ุฃุณููุชู ูู ุงูุฃูุงู ุงูุฎุงููุฉ'.",
            "ุงูููู ุดูุน ููู ูุจููุง ููุตุทูุงูุ ูุงุญุดุฑู ุชุญุช ููุงุฆูุ ูุงุณูู ูู ูุฏู ุงูุดุฑููุฉ ุดุฑุจุฉ ูููุฆุฉ ูุง ูุธูุฃ ุจุนุฏูุง ุฃุจุฏุงู.",
            "ุงูููู ุงุฑุฒูู ุจูู ุญุฑู ูู ุงููุฑุขู ุญูุงูุฉุ ูุจูู ูููุฉ ูุฑุงูุฉุ ูุจูู ุขูุฉ ุณุนุงุฏุฉุ ูุจูู ุณูุฑุฉ ุณูุงูุฉ.",
            "ุงูููู ุงุฑุญูู ูุฅูู ูุงู ูุณููุงูุ ูุงุบูุฑ ูู ูุฅูู ูุงู ูุคููุงูุ ูุฃุฏุฎูู ุงูุฌูุฉ ูุฅูู ูุงู ุจูุจูู ูุตุฏูุงู.",
            "ุงูููู ุดูุน ููู ุงููุฑุขูุ ูุดูุน ููู ุงูุตูุงูุ ูุดูุน ููู ูุจูู ุงููุฎุชุงุฑุ ูุฃุฏุฎูู ุงูุฌูุฉ ุจุณูุงู.",
            "ุงูููู ูุง ุชุญุฑููุง ุฃุฌุฑูุ ููุง ุชูุชูุง ุจุนุฏูุ ูุงุบูุฑ ููุง ูููุ ูุงุฌูุนูุง ุจู ูู ุฌูุงุช ุงููุนูู.",
            "ุงูููู ุงุฌุนูู ูู ุนุจุงุฏู ุงูุณุนุฏุงุกุ ูุงุฌุนู ูุจุฑู ููุฑุงู ูุถูุงุกูุ ูุงุบูุฑ ูู ูุง ุชูุฏู ูู ุฐูุจู ููุง ุชุฃุฎุฑ.",
            "ุงูููู ุงุฑุญู ุถุนูู ููุญุฏุชูุ ูุงุฌุนู ุฃุนูุงูู ุงูุตุงูุญุฉ ุฃููุณุงู ูู ูู ูุจุฑูุ ูุงูุชุญ ูู ุจุงุจุงู ุฅูู ุงูุฌูุฉ ูุง ูุณุฏ.",
            "ุงูููู ุฅูู ูุฒู ุจู ูุฃูุช ุฎูุฑ ููุฒูู ุจูุ ูุฃุตุจุญ ูููุฑุงู ุฅูู ุฑุญูุชู ูุฃูุช ุบูู ุนู ุนุฐุงุจู.",
            "ุงูููู ุขุชู ุจุฑุญูุชู ูุฑุถุงูุ ูููู ูุชูุฉ ุงููุจุฑ ูุนุฐุงุจูุ ูุขุชู ุจุฑุญูุชู ุงูุฃูู ูู ุนุฐุงุจู ุญุชู ุชุจุนุซู ุฅูู ุฌูุชู.",
            "ุงูููู ุงุฌุนู ุฐุฑูุชู ุณุชุฑุงู ูู ูู ุงููุงุฑุ ูุงุฌุนู ุฏุนุงุกูุง ูู ููุฑุงู ูุตูู ูู ูุจุฑูุ ูุงุฑูุน ุฏุฑุฌุชู ูู ุงูููุฏููู."
        ];

        const quranMessages = [
            "ููุงุตูุจูุฑู ููุญููููู ุฑูุจูููู ููุฅูููููู ุจูุฃูุนูููููููุง", "ููุง ููููููููู ุงูููููู ููููุณูุง ุฅููููุง ููุณูุนูููุง", "ุฅูููู ููุนู ุงููุนูุณูุฑู ููุณูุฑูุง",
            "ููุฅููููู ููุฑููุจู ุฃูุฌููุจู ุฏูุนูููุฉู ุงูุฏููุงุนู ุฅูุฐูุง ุฏูุนูุงูู", "ููููู ููุชูููููููู ุนูููู ุงูููููู ูููููู ุญูุณูุจููู", "ุฅูููู ุงูููููู ููุฑูุฒููู ููู ููุดูุงุกู ุจูุบูููุฑู ุญูุณูุงุจู",
            "ููููุณููููู ููุนูุทูููู ุฑูุจูููู ููุชูุฑูุถูู", "ุฃูููุง ุจูุฐูููุฑู ุงูููููู ุชูุทูููุฆูููู ุงูููููููุจู", "ููุชูููููููู ุนูููู ุงููุญูููู ุงูููุฐูู ููุง ูููููุชู",
            "ุฅูููู ุฑูุจููู ููุฑููุจู ูููุฌููุจู", "ุฑูุจููููุง ููููุง ุชูุญููููููููุง ููุง ููุง ุทูุงููุฉู ููููุง ุจููู", "ููุงุณูุชูุนูููููุง ุจูุงูุตููุจูุฑู ููุงูุตููููุงุฉู",
            "ููููุง ููุงูู ุฑูุจูููู ููุณููููุง", "ูููู ุนูุณูููฐ ุฃูู ููููููู ููุฑููุจูุง", "ููุง ุชูุญูุฒููู ุฅูููู ุงูููููู ููุนูููุง",
            "ููุงูููููู ููุนููููู ููุง ููู ูููููุจููููู", "ุฅูููู ุฑูุญูููุชู ุงูููููู ููุฑููุจู ููููู ุงููููุญูุณูููููู", "ููุงูููููู ููุนู ุงูุตููุงุจูุฑูููู",
            "ุฅูููู ุฑูุจููู ููุทูููู ูููููุง ููุดูุงุกู", "ููุณูููููููููููููู ุงูููููู ูููููู ุงูุณูููููุนู ุงููุนูููููู", "ููููุงูู ุฐููฐูููู ุนูููู ุงูููููู ููุณููุฑูุง",
            "ูููููู ุนูููููฐ ููููู ุดูููุกู ููุฏููุฑู", "ุฃูููููุณู ุงูููููู ุจูููุงูู ุนูุจูุฏููู", "ููููุง ุฐููฐูููู ุนูููู ุงูููููู ุจูุนูุฒููุฒู",
            "ููููุงูู ุฑูุจูููู ุจูุตููุฑูุง", "ุฅูููู ุฑูุจูููู ููุงุณูุนู ุงููููุบูููุฑูุฉู", "ููุงูููููู ุฎูููุฑู ุญูุงููุธูุง ูููููู ุฃุฑุญู ุงูุฑุงุญููู",
            "ููููุง ุชููููููููู ุฅููููุง ุจูุงูููููู ุนููููููู ุชููููููููุชู", "ุนูุณูููฐ ุฑูุจููููุง ุฃูู ููุจูุฏูููููุง ุฎูููุฑูุง ูููููููุง", "ููุงูู ููุฐููฐูููู ููุงูู ุฑูุจูููู ูููู ุนูููููู ููููููู"
        ];

        function showRandomAyah() { document.getElementById('randomAyahText').innerText = `"${quranMessages[Math.floor(Math.random()*quranMessages.length)]}"`; if(navigator.vibrate) navigator.vibrate(20); }
        function openDeadDuasModal() { document.getElementById('modalTitle').innerText = 'ุฃุฏุนูุฉ ูููุชููู'; let c = '<div style="text-align:right;">'; deadDuas.forEach((d, i) => { c += `<div class="dua-item"><strong>${i+1}.</strong> ${d}</div>`; }); document.getElementById('modalBody').innerHTML = c + '</div>'; document.getElementById('modal').classList.add('active'); }
        function openAzkar(t) { document.getElementById('modalTitle').innerText = t==='morning'?'ุฃุฐูุงุฑ ุงูุตุจุงุญ':'ุฃุฐูุงุฑ ุงููุณุงุก'; document.getElementById('modalBody').innerHTML = '<div style="text-align:right; font-size:1.1rem; line-height:2;">1. ุขูุฉ ุงููุฑุณู.<br>2. ุงูุฅุฎูุงุต ูุงููุนูุฐุชูู (3 ูุฑุงุช).<br>3. ' + (t==='morning'?'ุฃุตุจุญูุง ูุฃุตุจุญ ุงูููู ููู':'ุฃูุณููุง ูุฃูุณู ุงูููู ููู') + '</div>'; document.getElementById('modal').classList.add('active'); }
        function closeModal() { document.getElementById('modal').classList.remove('active'); }
        function toggleTheme() { document.body.setAttribute('data-theme', document.body.getAttribute('data-theme')==='dark'?'light':'dark'); }
        function reveal() { document.querySelectorAll('.reveal').forEach(el => { if(el.getBoundingClientRect().top < window.innerHeight - 100) el.classList.add('active'); }); }
        window.addEventListener('scroll', reveal); reveal();
        function giftFatiha() { const b = document.getElementById('fatihaBtn'); b.innerText = "ุชูุจู ุงููู ููู"; b.style.background = "#059669"; b.style.color="white"; }
        function downloadImage(id, n) { html2canvas(document.getElementById(id),{backgroundColor: "#1e293b"}).then(c => { let l = document.createElement('a'); l.download = n; l.href = c.toDataURL(); l.click(); }); }
        function toggleRadio() { const r = document.getElementById('radio'), i = document.getElementById('playIcon'); if(r.paused) { r.play(); i.className="fas fa-pause"; } else { r.pause(); i.className="fas fa-play"; } }
        document.getElementById('volumeSlider').oninput = (e) => document.getElementById('radio').volume = e.target.value;
    </script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, addDoc, onSnapshot, doc, updateDoc, increment, setDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        const app = initializeApp({ apiKey: "AIzaSyAbzVBetgxuzIhf6gHhsqdK_CbkUERIgus", authDomain: "sadaqa-640e8.firebaseapp.com", projectId: "sadaqa-640e8" });
        const db = getFirestore(app);
        const sebhaDocRef = doc(db, 'stats', 'global_sebha');
        const visitorsRef = doc(db, 'stats', 'visitors_count');

        onSnapshot(sebhaDocRef, s => {
            if(s.exists()){
                const c = s.data().count || 0;
                document.getElementById('globalSebhaCounter').innerText = c.toLocaleString();
                let target = 10000; while(c >= target) target += 10000;
                document.getElementById('targetGoalText').innerText = `ุงููุฏู: ${target.toLocaleString()}`;
                let p = (c % 10000) / 100; document.getElementById('sebhaProgressBar').style.width = p + '%';
                document.getElementById('targetPercentText').innerText = Math.floor(p) + '%';
            }
        });

        window.incrementGlobalSebha = async () => {
            const el = document.getElementById('globalSebhaCounter');
            el.innerText = (parseInt(el.innerText.replace(/,/g,'')) + 1).toLocaleString();
            try { await updateDoc(sebhaDocRef, { count: increment(1) }); } catch(e){}
        };

        const khatmaRef = doc(db, 'stats', 'global_khatma');
        onSnapshot(khatmaRef, s => {
            const grid = document.getElementById('juzGrid'); grid.innerHTML = '';
            const data = s.data() || {};
            for(let i=1; i<=30; i++){
                const btn = document.createElement('div');
                btn.className = `juz-btn ${data['juz'+i] ? 'read' : ''}`;
                btn.innerText = data['juz'+i] ? 'โ' : i;
                if(!data['juz'+i]) btn.onclick = () => updateDoc(khatmaRef, {['juz'+i]: true});
                grid.appendChild(btn);
            }
        });

        onSnapshot(collection(db, 'duas'), s => {
            const list = document.getElementById('duaList'); list.innerHTML = '';
            s.docs.sort((a,b)=>b.data().timestamp - a.data().timestamp).forEach(d => {
                list.innerHTML += `<div class="dua-item">๐คฒ ${d.data().text}</div>`;
            });
        });
        window.addGlobalDua = () => {
            const i = document.getElementById('duaInput');
            if(i.value) { addDoc(collection(db, 'duas'), {text: i.value, timestamp: Date.now()}); i.value=''; }
        };

        onSnapshot(visitorsRef, s => { if(s.exists()) document.getElementById('visitorsCount').innerText = s.data().count.toLocaleString(); });
        if(!sessionStorage.getItem('v')){ sessionStorage.setItem('v',1); updateDoc(visitorsRef,{count:increment(1)}); }
    </script>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('https://moutaz32.github.io/sadaqa/sw.js')
                .then(r => console.log('OK')).catch(e => console.log('Error'));
            });
        }
    </script>
</body>
</html>
